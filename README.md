# Stochastic Portfolio Optimization via HJB Strategy with Stress-Testing

<div align="center">

![Language](https://img.shields.io/badge/Python-3.9%2B-3776AB?logo=python&logoColor=white)
![Data Source](https://img.shields.io/badge/Data-MOEX%20ISS-red)
![License](https://img.shields.io/badge/License-MIT-green)
![Domain](https://img.shields.io/badge/Domain-Quantitative%20Finance-blueviolet)

> **Advanced framework for stochastic portfolio modeling, volatility regime analysis, and optimal control (HJB) strategy implementation for Russian financial markets.**

[Quick Start](#-quick-start) ‚Ä¢ [Documentation](#-documentation) ‚Ä¢ [Examples](#-examples) ‚Ä¢ [Issues](https://github.com/russiankendricklamar/quantitative-risk-engine/issues)

</div>

---

## Table of Contents
1. [Executive Summary](#executive-summary)
2. [–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Å–Ω–æ–≤–∞](#–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è-–æ—Å–Ω–æ–≤–∞)
   * [–ó–∞–¥–∞—á–∞ –ú–µ—Ä—Ç–æ–Ω–∞ –∏ HJB-—É—Ä–∞–≤–Ω–µ–Ω–∏–µ](#1-–∑–∞–¥–∞—á–∞-–º–µ—Ä—Ç–æ–Ω–∞-–∏-hjb-—É—Ä–∞–≤–Ω–µ–Ω–∏–µ)
   * [–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π](#2-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)
   * [GARCH(1,1) –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏](#3-garch11-–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ-–≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏)
   * [–ö–æ–≤–∞—Ä–∏–∞—Ü–∏–æ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞](#4-–∫–æ–≤–∞—Ä–∏–∞—Ü–∏–æ–Ω–Ω–∞—è-–º–∞—Ç—Ä–∏—Ü–∞)
   * [–†–∞—Å—á–µ—Ç –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–µ–π](#5-—Ä–∞—Å—á–µ—Ç-–¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–µ–π)
   * [–ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ —Å–∏–º—É–ª—è—Ü–∏—è](#6-–º–æ–Ω—Ç–µ-–∫–∞—Ä–ª–æ-—Å–∏–º—É–ª—è—Ü–∏—è)
   * [–ú–µ—Ç—Ä–∏–∫–∏ —Ä–∏—Å–∫–∞ –∏ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏](#7-–º–µ—Ç—Ä–∏–∫–∏-—Ä–∏—Å–∫–∞-–∏-–¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏)
3. [–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å](#–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è-–∏-—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
4. [–°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
   * [–ë–∞–∑–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏](#–±–∞–∑–æ–≤—ã–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏)
   * [–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏](#—ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏)
   * [–ê–Ω–∞–ª–∏–∑ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≥–æ—Ä–∏–∑–æ–Ω—Ç–æ–≤](#–∞–Ω–∞–ª–∏–∑-–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö-–≥–æ—Ä–∏–∑–æ–Ω—Ç–æ–≤)
   * [–ê–Ω–∞–ª–∏–∑ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫ Œ≥](#–∞–Ω–∞–ª–∏–∑-—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏-–∫-Œ≥)
5. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
6. [Technical Architecture](#technical-architecture)
6. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
7. [–õ–∏—Ü–µ–Ω–∑–∏—è](#–ª–∏—Ü–µ–Ω–∑–∏—è)
8. [–ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞](#–∫–æ–Ω—Ç–∞–∫—Ç—ã-–∏-–ø–æ–¥–¥–µ—Ä–∂–∫–∞)
9. [–¶–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ü–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
10. [Disclaimer](#disclaimer)


## Executive Summary

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—å–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ **—É—Ä–∞–≤–Ω–µ–Ω–∏—è –ì–∞–º–∏–ª—å—Ç–æ–Ω–∞-–Ø–∫–æ–±–∏-–ë–µ–ª–ª–º–∞–Ω–∞ (HJB)** —Å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–º –Ω–µ–ø—Ä–∏—è—Ç–∏—è —Ä–∏—Å–∫–∞ Œ≥ = 3.0, –≤–∫–ª—é—á–∞—é—â–∞—è –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö —Å MOEX ISS API, GARCH-–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏, –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ —Å–∏–º—É–ª—è—Ü–∏—é —Å 5000 —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏–Ω–≥ —Å 8 —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏. 

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Å MOEX ISS –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö —Ç–∏–∫–µ—Ä–æ–≤ –∏ –ø–µ—Ä–∏–æ–¥–æ–≤
- –û—Ü–µ–Ω–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (¬µ, Œ£) —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∞–∫—Ç–∏–≤–æ–≤ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º GARCH-—Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ—Å—Ç–∏
- –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –ú–µ—Ä—Ç–æ–Ω–∞ —Å –ø—Ä–æ–µ–∫—Ü–∏–µ–π –Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (no short sales, full investment)
- –†–∞—Å—á–µ—Ç –ø–æ–ª–Ω–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ (–ø—Ä–∏—Ä–æ—Å—Ç –∫–∞–ø–∏—Ç–∞–ª–∞ + –¥–∏–≤–∏–¥–µ–Ω–¥—ã) —Å —É—á–µ—Ç–æ–º –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- –°–∏–º—É–ª—è—Ü–∏—è 5000 —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π –∫–∞–ø–∏—Ç–∞–ª–∞ —Å –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–µ–π –≠–π–ª–µ—Ä–∞-–ú–∞—Ä—É—è–º—ã
- –†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ —Ä–∏—Å–∫–∞: VaR, CVaR, Sharpe Ratio, Maximum Drawdown
- –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ 8 —Å—Ü–µ–Ω–∞—Ä–∏—è–º (–±–∞–∑–æ–≤—ã–π, –∫—Ä–∏–∑–∏—Å, –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å, –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–π —à–æ–∫ –∏ —Ç.–¥.)
- –ê–Ω–∞–ª–∏–∑ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫ Œ≥, –≤—Ä–µ–º–µ–Ω–Ω—ã–º –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–º –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º —Ä—ã–Ω–∫–∞

–§—Ä–µ–π–º–≤–æ—Ä–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–Ω–≤–µ—Å—Ç–æ—Ä–∞–º –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å –∫–∞–ø–∏—Ç–∞–ª —Å—Ä–µ–¥–∏ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –∞–∫—Ü–∏–π —Å —É—á–µ—Ç–æ–º —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–æ–π –¥–∏–Ω–∞–º–∏–∫–∏ —Ä—ã–Ω–∫–∞, –ø—Ä–æ–≤–æ–¥–∏—Ç—å –∞–Ω–∞–ª–∏–∑ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º —à–æ–∫–∞–º –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–æ –æ—Ü–µ–Ω–∏–≤–∞—Ç—å —Ö–≤–æ—Å—Ç–æ–≤—ã–µ —Ä–∏—Å–∫–∏ (VaR, CVaR).

---

<div align="center">

##  –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|---------|--------|
| **Data Loading** | –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Å MOEX ISS API | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| **GARCH Modeling** | –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –º–µ—Ç–æ–¥–æ–º MLE | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| **Asset Filtration** | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∞–∫—Ç–∏–≤–æ–≤ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ—Å—Ç–∏ | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| **HJB Optimization** | –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –ú–µ—Ä—Ç–æ–Ω–∞ | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| **Dividend Yield** | –†–∞—Å—á–µ—Ç –ø–æ–ª–Ω–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ (–∫–∞–ø–∏—Ç–∞–ª + –¥–∏–≤–∏–¥–µ–Ω–¥—ã) | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| **Portfolio Constraints** | No short sales + Full investment constraints | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| **Monte Carlo Sim** | –í–µ–∫—Ç–æ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è 5000+ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| **Risk Metrics** | VaR, CVaR, Sharpe Ratio, Max Drawdown | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| **Stress-Testing** | 8 —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (–±–∞–∑–æ–≤—ã–π, –∫—Ä–∏–∑–∏—Å, —á–µ—Ä–Ω—ã–π –ª–µ–±–µ–¥—å –∏ —Ç.–¥.) | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| **Sensitivity Analysis** | –ê–Ω–∞–ª–∏–∑ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫ Œ≥ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–º | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| **Streamlit Dashboard** | –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å | üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| **ML Forecasting** | LSTM/Transformer –ø—Ä–æ–≥–Ω–æ–∑ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–µ–π | üöß –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ |

</div>

---

## –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Å–Ω–æ–≤–∞

### 1. –ó–∞–¥–∞—á–∞ –ú–µ—Ä—Ç–æ–Ω–∞ –∏ HJB-—É—Ä–∞–≤–Ω–µ–Ω–∏–µ

–ò–Ω–≤–µ—Å—Ç–æ—Ä —Å —Ñ—É–Ω–∫—Ü–∏–µ–π –ø–æ–ª–µ–∑–Ω–æ—Å—Ç–∏ **CRRA** (Constant Relative Risk Aversion):

$$U(C) = \frac{C^{1-\gamma}}{1-\gamma}, \quad \gamma > 0, \gamma \neq 1$$

–º–∞–∫—Å–∏–º–∏–∑–∏—Ä—É–µ—Ç –æ–∂–∏–¥–∞–µ–º—É—é –¥–∏—Å–∫–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–æ–ª–µ–∑–Ω–æ—Å—Ç—å:

$$\max_{\{\pi_t\}_{t \geq 0}} \mathbb{E}\left[\int_0^{\infty} e^{-\rho t} U(C_t) \, dt\right]$$

–î–∏–Ω–∞–º–∏–∫–∞ –∫–∞–ø–∏—Ç–∞–ª–∞ (—Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–æ–µ –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ):

$$dX_t = X_t \left(w_t^T \mu \, dt + w_t^T \Sigma^{1/2} dW_t\right)$$

–≥–¥–µ:
- $X_t$ ‚Äî –∫–∞–ø–∏—Ç–∞–ª –ø–æ—Ä—Ç—Ñ–µ–ª—è –≤ –º–æ–º–µ–Ω—Ç $t$
- $w_t = \pi_t / X_t$ ‚Äî –≤–µ–∫—Ç–æ—Ä –≤–µ—Å–æ–≤ (–¥–æ–ª–∏ –∫–∞–ø–∏—Ç–∞–ª–∞)
- $\mu \in \mathbb{R}^n$ ‚Äî –≤–µ–∫—Ç–æ—Ä –æ–∂–∏–¥–∞–µ–º—ã—Ö –≥–æ–¥–æ–≤—ã—Ö –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–µ–π
- $\Sigma \in \mathbb{R}^{n \times n}$ ‚Äî –∫–æ–≤–∞—Ä–∏–∞—Ü–∏–æ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–µ–π
- $W_t$ ‚Äî $n$-–º–µ—Ä–Ω–æ–µ –±—Ä–æ—É–Ω–æ–≤—Å–∫–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ
- $\rho > 0$ ‚Äî —Å—É–±—ä–µ–∫—Ç–∏–≤–Ω–∞—è –Ω–æ—Ä–º–∞ –¥–∏—Å–∫–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**HJB-—É—Ä–∞–≤–Ω–µ–Ω–∏–µ** (–ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è):

$$\rho V(X) = \max_{\pi} \\{ \pi^T\mu \cdot V'(X) + \frac{1}{2}\pi^T\Sigma\pi \cdot V''(X) \\}$$

**–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ** (–ú–µ—Ä—Ç–æ–Ω, 1969) –ø—Ä–∏ $V(X) = \frac{X^{1-\gamma}}{1-\gamma}$:

$$w^* = \frac{1}{\gamma} \Sigma^{-1} \mu$$

### 2. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ 1: –ó–∞–ø—Ä–µ—Ç –∫–æ—Ä–æ—Ç–∫–∏—Ö –ø—Ä–æ–¥–∞–∂** ($w_i \geq 0$)

$$w_{\text{clipped}} = \max(w^*, 0)$$

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ 2: –ü–æ–ª–Ω–æ–µ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ($\sum_{i=1}^n w_i = 1$)

$$w_{\text{final}, i} = \frac{w_{\text{clipped}, i}}{\sum_{j=1}^n w_{\text{clipped}, j}}$$

### 3. GARCH(1,1) –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏

–£—Å–ª–æ–≤–Ω–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –∞–∫—Ç–∏–≤–∞ $i$:

$$\sigma_i^2(t) = \omega_i + \alpha_i \varepsilon_i^2(t-1) + \beta_i \sigma_i^2(t-1)$$

–≥–¥–µ $\varepsilon_i(t) = \sigma_i(t) z_t$, $z_t \sim N(0, 1)$.

**–£—Å–ª–æ–≤–∏–µ —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ—Å—Ç–∏:** $\alpha_i + \beta_i < 1$

**–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å:**

$$\sigma_i^2(\infty) = \frac{\omega_i}{1 - \alpha_i - \beta_i}$$

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã $(\omega_i, \alpha_i, \beta_i)$ –æ—Ü–µ–Ω–∏–≤–∞—é—Ç—Å—è –º–µ—Ç–æ–¥–æ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∞–≤–¥–æ–ø–æ–¥–æ–±–∏—è (MLE).

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∞–∫—Ç–∏–≤–æ–≤:**
1. –°—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ—Å—Ç—å: $\alpha_i + \beta_i < 0.995$
2. –°—Ö–æ–¥–∏–º–æ—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ MLE
3. –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤: $\omega_i > 0, \alpha_i \geq 0, \beta_i \geq 0$
4. –†–∞–∑—É–º–Ω–∞—è –≥–æ–¥–æ–≤–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å: $5\% < \sigma_{\text{annual}}^i < 100\%$

### 4. –ö–æ–≤–∞—Ä–∏–∞—Ü–∏–æ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞

–í—ã–±–æ—Ä–æ—á–Ω–∞—è –∫–æ–≤–∞—Ä–∏–∞—Ü–∏–æ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–µ–π:

$$\hat{\Sigma} = \frac{1}{T-1} \sum_{t=1}^T (r(t) - \bar{r})(r(t) - \bar{r})^T$$

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ—Å—Ç–∏:** –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —á–∏—Å–ª–∞ $\lambda_1, \ldots, \lambda_n$. –ï—Å–ª–∏ $\lambda_{\min} \leq 0$, –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ä–µ–≥—É–ª—è—Ä–∏–∑–∞—Ü–∏—è –¢–∏—Ö–æ–Ω–æ–≤–∞:

$$\Sigma_{\text{reg}} = \hat{\Sigma} + \epsilon I, \quad \epsilon = \max(10^{-6}, 10|\lambda_{\min}|)$$

–ú–∞—Ç—Ä–∏—Ü–∞ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π:

$$\rho_{ij} = \frac{\sigma_{ij}}{\sqrt{\sigma_{ii}\sigma_{jj}}}$$

### 5. –†–∞—Å—á–µ—Ç –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–µ–π

**–õ–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∑–∞ –¥–µ–Ω—å:**

$$r_i(t) = \ln\left(\frac{P_i(t)}{P_i(t-1)}\right)$$

**–°—Ä–µ–¥–Ω—è—è –≥–æ–¥–æ–≤–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –æ—Ç –ø—Ä–∏—Ä–æ—Å—Ç–∞ –∫–∞–ø–∏—Ç–∞–ª–∞:**

$$\mu_i^{\text{capital}} = \bar{\mu}_i^{\text{daily}} \times 252$$

–≥–¥–µ $\bar{\mu}_i^{\text{daily}} = \frac{1}{T-1} \sum_{t=2}^T r_i(t)$

**–î–∏–≤–∏–¥–µ–Ω–¥–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å:**

$$y_i^{\text{div}} = \frac{\sum_{k=1}^{N_{\text{div}}} D_i(t_k)}{P_i(t_{\text{current}})}$$

**–ü–æ–ª–Ω–∞—è –æ–∂–∏–¥–∞–µ–º–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å:**

$$\mu_i = \mu_i^{\text{capital}} + y_i^{\text{div}}$$

**–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –∑–∞ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è** (—Å–ø–ª–∏—Ç—ã –∞–∫—Ü–∏–π):

$$P_{\text{adj}}^i(t) = \begin{cases} P^i(t) \cdot m, & t < t_{\text{split}} \\ P^i(t), & t \geq t_{\text{split}} \end{cases}$$

–≥–¥–µ $m$ ‚Äî –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–ø–ª–∏—Ç–∞.

### 6. –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ —Å–∏–º—É–ª—è—Ü–∏—è

**–î–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏—è –≠–π–ª–µ—Ä–∞-–ú–∞—Ä—É—è–º—ã:**

$$X_{t+\Delta t} = X_t \left(1 + w^T\mu \cdot \Delta t + w^T L Z_t \sqrt{\Delta t}\right)$$

–≥–¥–µ:
- $\Delta t = 1/252$ (—à–∞–≥ = 1 —Ç–æ—Ä–≥–æ–≤—ã–π –¥–µ–Ω—å)
- $L$ ‚Äî –Ω–∏–∂–Ω—è—è —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —Ä–∞–∑–ª–æ–∂–µ–Ω–∏—è Cholesky ($\Sigma = LL^T$)
- $Z_t \sim N(0, I_n)$ ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –≤–µ–∫—Ç–æ—Ä

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏–º—É–ª—è—Ü–∏–∏:**
- –ì–æ—Ä–∏–∑–æ–Ω—Ç: $T = 1$ –≥–æ–¥ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- –ß–∏—Å–ª–æ —à–∞–≥–æ–≤: $N = 252$ (—Ç–æ—Ä–≥–æ–≤—ã–µ –¥–Ω–∏)
- –ß–∏—Å–ª–æ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π: $M = 5000$ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- –ù–∞—á–∞–ª—å–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª: $X_0 = 1\,000\,000$ (–ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ)

**–í—ã–≤–æ–¥:** –º–∞—Ç—Ä–∏—Ü–∞ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π —Ä–∞–∑–º–µ—Ä $M \times (N+1)$

### 7. –ú–µ—Ç—Ä–∏–∫–∏ —Ä–∏—Å–∫–∞ –∏ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏

**–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç—Ñ–µ–ª—è (—Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è $j$):**

$$r_j = \frac{X_j(T) - X_0}{X_0}$$

**–°—Ä–µ–¥–Ω—è—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å:**

$$\bar{r} = \frac{1}{M} \sum_{j=1}^M r_j$$

**–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ):**

$$\hat{\sigma}_{\text{port}} = \sqrt{\frac{1}{M-1} \sum_{j=1}^M (r_j - \bar{r})^2}$$

**–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –®–∞—Ä–ø–∞:**

$$\text{Sharpe} = \frac{\bar{r} - r_f}{\hat{\sigma}_{\text{port}}}$$

–≥–¥–µ $r_f = 16.5\%$ (—Å—Ç–∞–≤–∫–∞ –¶–ë –†–§ –Ω–∞ –¥–∞—Ç—É –∞–Ω–∞–ª–∏–∑–∞, –∑–∞–¥–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é).

**Value at Risk (VaR) –Ω–∞ —É—Ä–æ–≤–Ω–µ Œ±:**

$$\text{VaR}_\alpha = Q_\alpha(\{r_j\}_{j=1}^M)$$

–≥–¥–µ $Q_\alpha$ ‚Äî –∫–≤–∞–Ω—Ç–∏–ª—å —É—Ä–æ–≤–Ω—è $\alpha$. –î–ª—è $\alpha = 0.05$ (95% –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å).

**Conditional Value at Risk (CVaR):**

$$\text{CVaR}_\alpha = \mathbb{E}[r | r \leq \text{VaR}_\alpha] = \frac{1}{|\{j : r_j \leq \text{VaR}_\alpha\}|} \sum_{j: r_j \leq \text{VaR}_\alpha} r_j$$

**Maximum Drawdown (MDD) –¥–ª—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ $j$:**

$$\text{MDD}_j = \max_{0 \leq s \leq t \leq T} \frac{X_j(s) - X_j(t)}{X_j(s)} = \max_{0 \leq t \leq T} \left(1 - \frac{X_j(t)}{\max_{0 \leq s \leq t} X_j(s)}\right)$$

**–°—Ä–µ–¥–Ω–∏–π MDD:**

$$\text{MDD} = \frac{1}{M} \sum_{j=1}^M \text{MDD}_j$$

---

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ 1: –ó–∞–ø—Ä–µ—Ç –∫–æ—Ä–æ—Ç–∫–∏—Ö –ø—Ä–æ–¥–∞–∂

–ü—Ä–∏ –Ω–∞–ª–æ–∂–µ–Ω–∏–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è $w_i \geq 0$ —Ä–µ—à–µ–Ω–∏–µ –ú–µ—Ä—Ç–æ–Ω–∞ –ø–æ—Å–ª–µ –ø—Ä–æ–µ–∫—Ü–∏–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–µ–Ω–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º –ø–æ –ü–∞—Ä–µ—Ç–æ. –î–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π –≤–µ—Å—å –≤–µ—Å –º–æ–∂–µ—Ç —Å–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫—Ç–∏–≤–∞—Ö.

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ 2: –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å w* –∫ Œ≥

–ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–∞ –∫–æ—Ä–æ—Ç–∫–∏–µ –ø—Ä–æ–¥–∞–∂–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –≤–µ—Å–∞ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ Œ≥ ‚àà [1.0, 10.0] –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã –∫ Œ≥. –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ –±–µ–∑–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ú–µ—Ä—Ç–æ–Ω–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–Ω—É–ª—è—é—Ç—Å—è –ø—Ä–∏ –ø—Ä–æ–µ–∫—Ü–∏–∏.

**–î–ª—è –ø—Ä–æ—è–≤–ª–µ–Ω–∏—è –≤–ª–∏—è–Ω–∏—è Œ≥ —Ç—Ä–µ–±—É–µ—Ç—Å—è:**
- –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–∏—Ö –ø—Ä–æ–¥–∞–∂
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥—Ä—É–≥–∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–∏–º–∏—Ç—ã –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏)

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ 3: –ü–∞—Ä–∞–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–π —Ä–∏—Å–∫

–û—Ü–µ–Ω–∫–∏ ¬µ –∏ Œ£ –ø–æ–¥–≤–µ—Ä–∂–µ–Ω—ã **sampling error**, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –º–∞–ª—ã—Ö –≤—ã–±–æ—Ä–∫–∞—Ö T.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–∏–æ–¥ –º–∏–Ω–∏–º—É–º 2-3 –≥–æ–¥–∞ (500+ —Ç–æ—Ä–≥–æ–≤—ã—Ö –¥–Ω–µ–π)
- –†–µ–≥—É–ª—è—Ä–Ω–æ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–µ–∂–µ–º–µ—Å—è—á–Ω–æ –∏–ª–∏ –µ–∂–µ–∫–≤–∞—Ä—Ç–∞–ª—å–Ω–æ)
- –ü—Ä–∏–º–µ–Ω—è—Ç—å —Å–∂–∞—Ç–∏–µ (shrinkage) –æ—Ü–µ–Ω–æ–∫ Ledoit-Wolf –¥–ª—è –º–∞—Ç—Ä–∏—Ü—ã Œ£

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ 4: GARCH(1,1) —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ—Å—Ç—å

–£—Å–ª–æ–≤–∏–µ $\alpha + \beta < 1$ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ—Å—Ç–∏ —É—Å–ª–æ–≤–Ω–æ–π –¥–∏—Å–ø–µ—Ä—Å–∏–∏. –ê–∫—Ç–∏–≤—ã —Å $\alpha + \beta \geq 0.995$ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–∫–ª—é—á–∞—é—Ç—Å—è.

<div align="center">

### –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ –∫–ª—é—á–µ–≤—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –í–ª–∏—è–Ω–∏–µ | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|----------|--------|--------------|
| **r_f** (–±–µ–∑—Ä–∏—Å–∫–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞) | –í—ã—Å–æ–∫–æ–µ –Ω–∞ Sharpe Ratio | –û–±–Ω–æ–≤–ª—è—Ç—å –¥–ª—è —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã |
| **Œ≥ (CRRA)** | –ù–∏–∑–∫–æ–µ –ø—Ä–∏ no short-sales | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 3.0 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
| **M (—Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏)** | –°—Ö–æ–¥–∏–º–æ—Å—Ç—å —É–ª—É—á—à–∞–µ—Ç—Å—è | ‚â• 5000 –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ |
| **–ö–æ—Ä—Ä–µ–ª–∏—Ä—É—é—â–∏–µ –∞–∫—Ç–∏–≤—ã** | –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è | –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å œÅ > 0.95 |
| **–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å œÉ** | –û—á–µ–Ω—å –≤—ã—Å–æ–∫–æ–µ | –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å –µ–∂–µ–º–µ—Å—è—á–Ω–æ |

</div>

---

## –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

| –°—Ü–µ–Ω–∞—Ä–∏–π | ¬µ | Œ£ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|---|---|---------|
| **Baseline** | ¬µ | Œ£ | –¢–µ–∫—É—â–∏–µ —Ä—ã–Ω–æ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è |
| **Crisis** | 0.7¬µ | Œ£ | –°–Ω–∏–∂–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–µ–π –Ω–∞ 30% (–∫—Ä–∏–∑–∏—Å 2008) |
| **High Vol** | ¬µ | 2.25Œ£ | –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ 50% (COVID-19) |
| **Corr Shock** | ¬µ | D¬∑P*¬∑D | –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π –Ω–∞ 50% (–ø–æ—Ç–µ—Ä—è –¥–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏) |
| **Individual** | ¬µ* ‚Üí 0.5¬µ* | Œ£ | –•—É–¥—à–∏–π –∞–∫—Ç–∏–≤ —Ç–µ—Ä—è–µ—Ç 50% –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ |

### –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

| –°—Ü–µ–Ω–∞—Ä–∏–π | ¬µ | Œ£ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|---|---|---------|
| **Black Swan** | 0.5¬µ | Œ£ | –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–π –∫—Ä–∏–∑–∏—Å (~1% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤ –≥–æ–¥) |
| **Bull Market** | 1.5¬µ | Œ£ | –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ —Ä–æ—Å—Ç–∞ |
| **Low Vol** | ¬µ | 0.25Œ£ | –°–Ω–∏–∂–µ–Ω–∏–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ 50% |

### –ê–Ω–∞–ª–∏–∑ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≥–æ—Ä–∏–∑–æ–Ω—Ç–æ–≤

–°–∏–º—É–ª—è—Ü–∏—è –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è –¥–ª—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–æ–≤: **1 –º–µ—Å—è—Ü, 3 –º–µ—Å—è—Ü–∞, 1 –≥–æ–¥, 3 –≥–æ–¥–∞**

$T_h \in \{1/12, 1/4, 1, 3\}$ –≥–æ–¥–∞, $N_h = \lfloor T_h \times 252 \rfloor$

### –ê–Ω–∞–ª–∏–∑ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫ Œ≥

Œì ‚àà {1.0, 2.0, 3.0, 5.0, 10.0}

**–ó–∞–º–µ—á–∞–Ω–∏–µ:** –ü—Ä–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö –Ω–∞ –∫–æ—Ä–æ—Ç–∫–∏–µ –ø—Ä–æ–¥–∞–∂–∏ –∏ –ø–æ–ª–Ω–æ–µ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –≤–µ—Å–∞ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ [1.0, 10.0] –æ—Å—Ç–∞—é—Ç—Å—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã –∫ Œ≥, —Ç–∞–∫ –∫–∞–∫ —Ä–µ—à–µ–Ω–∏–µ –ú–µ—Ä—Ç–æ–Ω–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –º–Ω–æ–≥–æ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç. –ü–æ—Å–ª–µ –ø—Ä–æ–µ–∫—Ü–∏–∏ –Ω–∞ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ä—Ç–∞–Ω—Ç —ç—Ñ—Ñ–µ–∫—Ç Œ≥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–µ–Ω–µ–±—Ä–µ–∂–∏–º–æ –º–∞–ª.

---

–ù–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö MOEX –∑–∞ –ø–µ—Ä–∏–æ–¥ **01.11.2024 ‚Äì 01.11.2025** (10 –∞–∫—Ü–∏–π: SBER, GAZP, YDEX, TATN, MOEX, PHOR, NVTK, LKOH, PLZL, VTBR):

### –ë–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **Mean Return** | 39.54% |
| **Median Return** | 35.89% |
| **Volatility** | ~18-22% |
| **Sharpe Ratio** | 0.7284 |
| **VaR 95%** | 911,021 —Ç—ã—Å. ‚ÇΩ |
| **CVaR 95%** | 819,585 —Ç—ã—Å. ‚ÇΩ |
| **Max Drawdown** | 17.37% |

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

| –°—Ü–µ–Ω–∞—Ä–∏–π | Sharpe | MDD (%) | VaR (—Ç—ã—Å.) |
|----------|--------|--------|-----------|
| Baseline | 0.7284 | 17.41 | 917,467 |
| Crisis | 0.3223 | 19.32 | 830,413 |
| High Vol | 0.5565 | 22.29 | 827,884 |
| Corr Shock | 0.7752 | 14.15 | 965,308 |
| Individual | 0.7284 | 17.41 | 917,467 |
| **Black Swan** | **0.0584** | **20.80** | **776,999** |
| Bull Market | 1.2196 | 14.91 | 1,083,211 |
| Low Vol | 0.9778 | 11.02 | 1,042,784 |

–ü–æ—Ä—Ç—Ñ–µ–ª—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –≤ —É–º–µ—Ä–µ–Ω–Ω—ã—Ö –∫—Ä–∏–∑–∏—Å–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö, –Ω–æ —Å–∏–ª—å–Ω–æ –¥–µ–≥—Ä–∞–¥–∏—Ä—É–µ—Ç –ø—Ä–∏ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö, –≥–¥–µ Sharpe –∫–æ–ª–ª–∞–ø—Å–∏—Ä—É–µ—Ç –¥–æ 0.0584. –≠—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ª–µ–≤–æ–≥–æ —Ö–≤–æ—Å—Ç–∞ –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏.

---

## üéØ Best Practices

### 1. –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

‚úÖ **DO:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∏–Ω–∏–º—É–º 2-3 –≥–æ–¥–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö (500+ —Ç–æ—Ä–≥–æ–≤—ã—Ö –¥–Ω–µ–π)
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞–ª–∏—á–∏–µ –ø—Ä–æ–ø—É—Å–∫–æ–≤ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞—Ç—ã
- –ò—Å–∫–ª—é—á–∞—Ç—å –¥–Ω–∏ —Å –∞–Ω–æ–º–∞–ª—å–Ω—ã–º–∏ –æ–±—ä–µ–º–∞–º–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏

‚ùå **DON'T:**
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –º–µ–Ω–µ–µ —á–µ–º –∑–∞ 6 –º–µ—Å—è—Ü–µ–≤
- –ù–µ —Å–º–µ—à–∏–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã (daily + weekly)
- –ù–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (—Å–ø–ª–∏—Ç—ã, –¥–∏–≤–∏–¥–µ–Ω–¥—ã)

### 2. GARCH-–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

‚úÖ **DO:**
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —É—Å–ª–æ–≤–∏–µ —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ—Å—Ç–∏: Œ± + Œ≤ < 0.995
- –í–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —É—Å–ª–æ–≤–Ω—É—é –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
- –°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ GARCH(1,1) –∏ GARCH(2,1)

‚ùå **DON'T:**
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–∫—Ç–∏–≤—ã —Å Œ± + Œ≤ ‚â• 0.99 (–∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è GARCH)
- –ù–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –æ—Å—Ç–∞—Ç–∫–æ–≤
- –ù–µ –ø–µ—Ä–µ–æ—Ü–µ–Ω–∏–≤–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ GARCH

### 3. –ü–æ—Ä—Ç—Ñ–µ–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

‚úÖ **DO:**
- –ü—Ä–∏–º–µ–Ω—è—Ç—å —Ä–µ–≥—É–ª—è—Ä–∏–∑–∞—Ü–∏—é (Tikhonov, shrinkage)
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —É—Å–ª–æ–≤–∏–µ —á–∏—Å–ª–æ –æ–±—É—Å–ª–æ–≤–ª–µ–Ω–Ω–æ—Å—Ç–∏ –º–∞—Ç—Ä–∏—Ü—ã Œ£
- –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å –≤–µ—Å–∞ –µ–∂–µ–º–µ—Å—è—á–Ω–æ

‚ùå **DON'T:**
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Å—Ç–∏–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ú–µ—Ä—Ç–æ–Ω–∞ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π (—Ä–∏—Å–∫ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏)
- –ù–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç –æ—à–∏–±–æ–∫ –≤ –æ—Ü–µ–Ω–∫–µ ¬µ
- –ù–µ –¥–æ–≤–µ—Ä—è—Ç—å –≤–µ—Å–∞–º —Å < 1% –≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ

### 4. –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ —Å–∏–º—É–ª—è—Ü–∏—è

‚úÖ **DO:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å M ‚â• 5000 —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å—Ö–æ–¥–∏–º–æ—Å—Ç—å –Ω–∞ –ø–æ–¥–≤—ã–±–æ—Ä–∫–∞—Ö (M=1000, 5000, 10000)
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å seed –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏

‚ùå **DON'T:**
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å M < 1000 (–ø–ª–æ—Ö–∞—è —Å—Ö–æ–¥–∏–º–æ—Å—Ç—å –∫–≤–∞–Ω—Ç–∏–ª–µ–π)
- –ù–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—á–∞–ª—å–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ —Å–∏–º—É–ª—è—Ü–∏–∏
- –ù–µ –∑–∞–±—ã–≤–∞—Ç—å –ø—Ä–æ –µ–∂–µ–≥–æ–¥–Ω—É—é –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤

### 5. –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

‚úÖ **DO:**
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —à–æ–∫–∏ (2008, 2020, 2022)
- –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≥–æ—Ä–∏–∑–æ–Ω—Ç–æ–≤
- –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –∏ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

‚ùå **DON'T:**
- –ù–µ –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ –æ–¥–∏–Ω —Å—Ü–µ–Ω–∞—Ä–∏–π –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ä–∏—Å–∫–∞
- –ù–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å tail dependence –º–µ–∂–¥—É –∞–∫—Ç–∏–≤–∞–º–∏
- –ù–µ –∑–∞–±—ã–≤–∞—Ç—å –ø—Ä–æ —á–µ—Ä–Ω—ã–µ –ª–µ–±–µ–¥–∏ (–≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å ~1% –≤ –≥–æ–¥)

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```
stochastic-portfolio-optimization/
‚îú‚îÄ‚îÄ README.md                          # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ requirements.txt                   # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ .gitignore                         # Git –∏—Å–∫–ª—é—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ setup.py                           # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ data_loader.py                 # –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å MOEX ISS
‚îÇ   ‚îú‚îÄ‚îÄ parameter_estimation.py        # GARCH, –∫–æ–≤–∞—Ä–∏–∞—Ü–∏—è, –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ portfolio_optimization.py      # HJB —Ä–µ—à–µ–Ω–∏–µ, –ø—Ä–æ–µ–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ monte_carlo_simulator.py       # –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ —Å–∏–º—É–ª—è—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ risk_metrics.py                # –†–∞—Å—á–µ—Ç VaR, CVaR, MDD, Sharpe
‚îÇ   ‚îú‚îÄ‚îÄ stress_testing.py              # –°—Ç—Ä–µ—Å—Å-—Å—Ü–µ–Ω–∞—Ä–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ utils.py                       # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ
‚îú‚îÄ‚îÄ notebooks/
‚îÇ   ‚îî‚îÄ‚îÄ full_analysis.ipynb            # –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
‚îÇ
‚îú‚îÄ‚îÄ examples/
‚îÇ   ‚îú‚îÄ‚îÄ basic_example.py               # –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ moex_portfolio.py              # –ü—Ä–∏–º–µ—Ä —Å MOEX —Ç–∏–∫–µ—Ä–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ stress_test_report.py          # –ü–æ–¥—Ä–æ–±–Ω—ã–π —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç
‚îÇ
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ test_data_loader.py
‚îÇ   ‚îú‚îÄ‚îÄ test_optimization.py
‚îÇ   ‚îú‚îÄ‚îÄ test_metrics.py
‚îÇ   ‚îî‚îÄ‚îÄ test_stress_testing.py
‚îÇ
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ .gitkeep                       # –î–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–Ω–µ –≤ git)
‚îÇ
‚îî‚îÄ‚îÄ outputs/
    ‚îî‚îÄ‚îÄ .gitkeep                       # –î–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–Ω–µ –≤ git)
```

---

##  Technical Architecture

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ –º–æ–¥—É–ª—å–Ω–æ–º—É –ø—Ä–∏–Ω—Ü–∏–ø—É, –≥–¥–µ –∫–∞–∂–¥—ã–π —ç—Ç–∞–ø –∞–Ω–∞–ª–∏–∑–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (notebook/module):

1.  **Data Layer (`data_loader`, `filtration`)**:
    *   –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö (OHLCV).
    *   –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç **Parquet** –¥–ª—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ I/O.
    *   –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ–ª–∏–∫–≤–∏–¥–Ω—ã—Ö –∞–∫—Ç–∏–≤–æ–≤ –∏ –¥–µ—Ç–µ–∫—Ü–∏—è –∞–Ω–æ–º–∞–ª–∏–π (outliers detection).

2.  **Modeling Layer (`GARCH`, `HJB_strategy`)**:
    *   –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ($\omega, \alpha, \beta$) –º–µ—Ç–æ–¥–æ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∞–≤–¥–æ–ø–æ–¥–æ–±–∏—è (MLE).
    *   –†–∞—Å—á–µ—Ç –∫–æ–≤–∞—Ä–∏–∞—Ü–∏–æ–Ω–Ω—ã—Ö –º–∞—Ç—Ä–∏—Ü —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º shrinkage-–º–µ—Ç–æ–¥–æ–≤ (Ledoit-Wolf) –¥–ª—è –±–æ—Ä—å–±—ã —Å —à—É–º–æ–º.
    *   –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö –≤–µ—Å–æ–≤.

3.  **Simulation Layer (`VaR_backtest`)**:
    *   –í–µ–∫—Ç–æ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ –Ω–∞ `NumPy`.
    *   –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–Ω–æ–≥–æ–º–µ—Ä–Ω—ã—Ö –≤–∏–Ω–µ—Ä–æ–≤—Å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —á–µ—Ä–µ–∑ —Ä–∞–∑–ª–æ–∂–µ–Ω–∏–µ –•–æ–ª–µ—Ü–∫–æ–≥–æ ($\mathbf{L}\mathbf{L}^T = \Sigma$).

4.  **Analytics Layer (`results_analitics`)**:
    *   –ê–≥—Ä–µ–≥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–∏–º—É–ª—è—Ü–∏–π.
    *   –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –∏ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π –∫–∞–ø–∏—Ç–∞–ª–∞.

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- pip –∏–ª–∏ conda

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/yourusername/stochastic-portfolio-optimization.git
cd stochastic-portfolio-optimization
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
python -m venv venv
source venv/bin/activate  # Linux/macOS
# –∏–ª–∏
venv\Scripts\activate     # Windows
```

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### –¢—Ä–µ–±—É–µ–º—ã–µ –ø–∞–∫–µ—Ç—ã

```txt
numpy>=1.24.0
pandas>=1.5.0
scipy>=1.10.0
scikit-learn>=1.2.0
matplotlib>=3.7.0
seaborn>=0.12.0
arch>=5.3.0           # GARCH –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
requests>=2.28.0      # –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ API
openpyxl>=3.10.0      # Excel —ç–∫—Å–ø–æ—Ä—Ç
```

---

## üöÄ Roadmap

### Phase 1: Core Features
- [x] MOEX ISS API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [x] GARCH(1,1) –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] HJB —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –ú–µ—Ä—Ç–æ–Ω–∞
- [x] –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ —Å–∏–º—É–ª—è—Ü–∏—è
- [x] –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (8 —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤)
- [x] –ê–Ω–∞–ª–∏–∑ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### Phase 2: Advanced Models
- [ ] Merton Jump-Diffusion (MJD) –ø—Ä–æ—Ü–µ—Å—Å—ã
- [ ] Variance Gamma –∏ CGMY –º–æ–¥–µ–ª–∏
- [ ] Hidden Markov Models (HMM) –¥–ª—è —Ä–µ–∂–∏–º–æ–≤
- [ ] L√©vy –ø—Ä–æ—Ü–µ—Å—Å—ã —Å calibration
- [ ] Multi-factor model (Fama-French 5-factor)

### Phase 3: Portfolio Enhancements
- [ ] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—é ($w_i \leq w_{\max}$)
- [ ] –°–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞–ø–∏—Ç–∞–ª–∞
- [ ] –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–µ –∏–∑–¥–µ—Ä–∂–∫–∏ –∏ —Å–ø—Ä–µ–¥
- [ ] –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ—Ä–∞–∑–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] Robustness optimization (DRO)

### Phase 4: Backtesting & Analytics
- [ ] Historical backtesting framework
- [ ] Walk-forward optimization
- [ ] Sharpe ratio –∏–∑ –±—ç–∫—Ç–µ—Å—Ç–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ç–æ—Ä–≥–æ–≤–ª—è–º–∏
- [ ] Slippage –∏ commission –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] Performance attribution analysis

### Phase 5: Web & API
- [ ] Streamlit dashboard
- [ ] REST API (FastAPI)
- [ ] WebSocket –¥–ª—è real-time updates
- [ ] Telegram alerts –¥–ª—è —à–æ–∫–æ–≤
- [ ] Excel add-in –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### Phase 6: ML & AI
- [ ] LSTM/Transformer –ø—Ä–æ–≥–Ω–æ–∑ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–µ–π
- [ ] Anomaly detection (Isolation Forest, LOF)
- [ ] Reinforcement Learning –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- [ ] Deep learning –¥–ª—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
- [ ] Ensemble –º–µ—Ç–æ–¥—ã –¥–ª—è –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–≥–Ω–æ–∑–æ–≤

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License. See LICENSE file for details.

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

- **Issues:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ GitHub Issues –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤ –æ–± –æ—à–∏–±–∫–∞—Ö [Issue](https://github.com/russiankendricklamar/quantitative-risk-engine/issues)
- **Discussions:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ GitHub Discussions –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ [Discussions](https://github.com/russiankendricklamar/quantitative-risk-engine/discussions)
- **Email:** [lifeofwhitedesiigner@gmail.com]

---

## –¶–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –≤ –Ω–∞—É—á–Ω–æ–π —Ä–∞–±–æ—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ —Ü–∏—Ç–∏—Ä—É–π—Ç–µ:

```bibtex
@software{stochastic_portfolio_hjb,
  author = {Your Name},
  title = {Stochastic Portfolio Optimization via HJB Strategy with Stress-Testing},
  year = {2025},
  url = {https://github.com/yourusername/stochastic-portfolio-optimization}
}
```

---

##  Disclaimer

–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –≤ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ü–µ–ª—è—Ö –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–æ–≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ (Quantitative Finance). 

*   –ö–æ–¥ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ç–æ—Ä–≥–æ–≤—ã–º —Ä–æ–±–æ—Ç–æ–º –∏–ª–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π –¥–ª—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–æ–≤.
*   –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è (Backtesting) –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç –±—É–¥—É—â–∏—Ö –¥–æ—Ö–æ–¥–æ–≤.
*   –ê–≤—Ç–æ—Ä –Ω–µ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —É–±—ã—Ç–∫–∏, –≤–æ–∑–Ω–∏–∫—à–∏–µ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π.

---

### –ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏

- **Merton, R. C.** (1969). "Lifetime Portfolio Selection Under Uncertainty: The Continuous-Time Case." *Review of Economics and Statistics*, 51(3), 247-257.

- **Hamilton, J. D.** (1989). "A New Approach to the Economic Analysis of Nonstationary Time Series." *Econometrica*, 57(2), 357-384.

- **Bollerslev, T.** (1986). "Generalized Autoregressive Conditional Heteroskedasticity." *Journal of Econometrics*, 31(3), 307-327.

- **Ledoit, O., & Wolf, M.** (2004). "Honey, I Shrunk the Sample Covariance Matrix." *Journal of Portfolio Management*, 30(4), 110-119.

- **Glasserman, P.** (2004). *Monte Carlo Methods in Financial Engineering*. Springer-Verlag.

---

### Contributing

–ö–æ–Ω—Ç—Ä–∏–±—å—é—Ü–∏–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è!

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/amazing-feature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏–π (`git commit -m 'Add amazing feature'`)
4. Push –≤ branch (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

---

**Author:** Egor Galkin  
**Profile:** Quantitative Researcher / Risk Analyst  
**Focus:** Stochastic Calculus, Derivatives Pricing, Market Risk Management
